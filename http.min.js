/*! lil-http - v0.1 - MIT License - https://github.com/lil-js/http */
(function(t,e){if(typeof define==="function"&&define.amd){define(["exports"],e)}else if(typeof exports==="object"){e(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{e(t.lil=t.lil||{})}})(this,function(t){"use strict";var e="0.1.8";var n=Object.prototype.toString;var r=Array.prototype.slice;var o=Object.prototype.hasOwnProperty;var a=location.origin;var u=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var i=typeof XDomainRequest!=="undefined";var s=function(){};var l={method:"GET",timeout:30*1e3,auth:null,headers:null,async:true,withCredentials:false,responseType:"text"};function f(t){return t&&n.call(t)==="[object Object]"}function p(t){return t&&n.call(t)==="[object Array]"}function c(t){var e,n,a,u,i=r.call(arguments).slice(1);for(e=0,n=i.length;e<n;e+=1){u=i[e];for(a in u)if(o.call(u,a))t[a]=u[a]}return t}function d(t,e){if(f(e)){e["Content-Type"]=e["Content-Type"]||w.defaultContent;for(var n in e){t.setRequestHeader(n,e[n])}}}function v(t){var e={},n=t.getAllResponseHeaders().split("\n");n.forEach(function(t){if(t){t=t.split(":");e[t[0].trim()]=(t[1]||"").trim()}});return e}function h(t){var e,n=t.getResponseHeader("Content-Type");if(t.responseType==="text"){e=t.responseText;if(n==="application/json"&&e)e=JSON.parse(e)}else{e=t.response}return e}function y(t){return{xhr:t,status:t.status,data:h(t),headers:v(t)}}function m(t,e){var n=new Error(e.message);c(n,y(t));n.error=e;n.stack=e.stack;return n}function g(t,e){var n=false;return function(r){if(!n){e(m(t,r),null);n=true}}}function T(t,e){return function(){if(t.readyState===4){if(t.status>=200&&t.status<400){e(null,y(t))}else{e(y(t),null)}}}}function x(t){var e=t.match(u);return e&&e[1]===a}function C(t){var e=null;var n=(t.method||"GET").toUpperCase();var r=t.auth||{};var o=t.url;if(i&&x(o)){e=new XDomainRequest}else{e=new XMLHttpRequest}e.open(n,o,t.async,r.user,r.password);e.withCredentials=t.withCredentials;e.responseType=t.responseType;e.timeout=t.timeout;d(e,t.headers);return e}function E(t,e){return function(t){if(evt.lengthComputable){e(t,evt.loaded/evt.total)}else{e(t)}}}function b(t,e,n){var r=C(t);var o=f(t.data)||p(t.data)?JSON.stringify(t.data):t.data;var a=g(r,e);r.onload=T(r,e);r.onerror=a;r.ontimeout=a;r.onabort=a;if(typeof n==="function")r.onprogress=E(r,n);try{r.send(o)}catch(u){a(u)}return{xhr:r,config:t}}function j(t){return function(e,n,o,a){var u,i,p=null;var d=c({},l,{method:t});var v=r.call(arguments);for(u=0,i=v.length;u<i;u+=1){p=v[u];if(typeof p==="function"){o=p;if(o!==p)a=p}else if(f(p)){c(d,p)}else if(typeof p==="string"&&!d.url){d.url=p}}return b(d,o||s,a)}}function w(t,e,n,r){return j("GET").apply(null,arguments)}w.VERSION=e;w.defaults=l;w.defaultContent="text/plain";w.get=j("GET");w.post=j("POST");w.put=j("PUT");w.del=j("DELETE");w.patch=j("PATCH");w.head=j("HEAD");return t.http=w});
//# sourceMappingURL=http.min.js.map