/*! lil-http - v0.1 - MIT License - https://github.com/lil-js/http */
(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports==="object"){t(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{t(e.lil=e.lil||{})}})(this,function(e){var t="0.1.0";var n=Object.prototype.toString;var r=Array.prototype.slice;var a=location.origin;var o=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var s={method:"GET",timeout:30*1e3,auth:null,headers:null,async:true,withCredentials:false,responseType:"text"};function i(e){return e&&n.call(e)==="[object Object]"}function u(e){return e&&n.call(e)==="[object Array]"}function f(e){var t,n,a,o,s=r.call(arguments).slice(1);for(t=0,n=s.length;t<n;t+=1){o=s[t];for(a in o)if(o.hasOwnProperty(a)){e[a]=o[a]}}return e}function p(e,t){if(i(t)){t["Content-Type"]=t["Content-Type"]||C.defaultContent;for(var n in t){e.setRequestHeader(n,t[n])}}}function d(e){var t,n=e.getResponseHeader("Content-Type");if(e.responseType==="text"){t=e.responseText;if(n==="application/json")t=JSON.parse(t)}else{t=e.response}return t}function c(e){return{status:e.status,data:d(e),headers:e.getAllResponseHeaders(),xhr:e}}function v(e,t){var n=c(e);n.error=t;return n}function y(e,t){var n=false;return function(r){if(!n){t(v(e,r),null);n=true}}}function h(e,t){return function(){if(e.readyState===4){if(e.status>=200&&e.status<300){t(null,c(e))}else{t(c(e),null)}}}}function m(e){var t=e.match(o);return t&&t[1]===a}function T(e){var t=null;var n=(e.method||"GET").toUpperCase();var r=e.auth||{};var a=e.url;if(m(a)){if(typeof XDomainRequest!=="undefined"){t=new XDomainRequest}}else{t=new XMLHttpRequest}t.open(n,a,e.async,r.user,r.password);t.withCredentials=e.withCredentials;t.responseType=e.responseType;t.timeout=e.timeout;p(t,e.headers);return t}function g(e,t){return function(e){if(evt.lengthComputable){t(e,evt.loaded/evt.total)}else{t(e)}}}function E(e,t,n){var r=T(e);var a=i(e.data)||u(e.data)?JSON.stringify(e.data):e.data;var o=y(r,t);r.addEventListener("load",h(r,t),false);r.addEventListener("error",o,false);r.addEventListener("timeout",o,false);r.addEventListener("abort",o,false);if(typeof n==="function")r.addEventListener("progress",g(r,n),false);try{r.send(a)}catch(s){o(s)}return r}function x(e){return function(e,t,n,a){var o=f({},s);var u=r.call(arguments);var p,d=null;for(p=0,l=u.length;p<l;p+=1){d=u[p];if(typeof d==="function"){n=d;if(n!==d)a=d}else if(i(d)){f(o,d)}else if(typeof d==="string"){o.url=d}}return E(o,n,a)}}function C(e,t,n,r){return x("GET").apply(null,arguments)}C.VERSION=t;C.defaults=s;C.defaultContent="text/plain";C.get=x("GET");C.post=x("POST");C.put=x("PUT");C.del=x("DELETE");C.patch=x("PATCH");C.head=x("HEAD");return e.http=C});
//# sourceMappingURL=http.min.js.map