/*! lil-http - v0.1.9 - MIT License - https://github.com/lil-js/http */
(function(t,e){if(typeof define==="function"&&define.amd){define(["exports"],e)}else if(typeof exports==="object"){e(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{e(t.lil=t.lil||{})}})(this,function(t){"use strict";var e="0.1.9";var n=Object.prototype.toString;var r=Array.prototype.slice;var o=Object.prototype.hasOwnProperty;var a=location.origin;var i=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var u=/application\/json/;var s=typeof XDomainRequest!=="undefined";var f=function(){};var l={method:"GET",timeout:30*1e3,auth:null,headers:null,async:true,withCredentials:false,responseType:"text"};function p(t){return t&&n.call(t)==="[object Object]"||false}function c(t){var e,n,a,i,u=r.call(arguments).slice(1);for(e=0,n=u.length;e<n;e+=1){i=u[e];for(a in i)if(o.call(i,a))t[a]=i[a]}return t}function d(t,e){if(p(e)){e["Content-Type"]=e["Content-Type"]||H.defaultContent;for(var n in e)if(o.call(e,n)){t.setRequestHeader(n,e[n])}}}function v(t){var e={},n=t.getAllResponseHeaders().trim().split("\n");n.forEach(function(t){var n=t.trim().split(":");var r=n.shift().trim();var o=n.join(":").trim();e[r]=o});return e}function m(t){return u.test(t.getResponseHeader("Content-Type"))}function y(t){return Object.getOwnPropertyNames(t).filter(function(e){return t[e]!==undefined}).map(function(e){var n=t[e]===null?"":t[e];return encodeURIComponent(e)+(n?"="+encodeURIComponent(n):"")}).join("&").replace(/%20/g,"+")}function h(t){var e;if(t.responseType==="text"){e=t.responseText;if(m(t)&&e)e=JSON.parse(e)}else{e=t.response}return e}function g(t){return{xhr:t,status:t.status,data:h(t),headers:v(t)}}function T(t,e){var n=new Error(e.message);c(n,g(t));n.error=e;n.stack=e.stack;return n}function x(t,e){var n=false;return function(r){if(!n){e(T(t,r),null);n=true}}}function C(t,e){return function(){if(t.readyState===4){if(t.status===1223)status=204;if(t.status>=200&&t.status<400){e(null,g(t))}else{e(g(t),null)}}}}function E(t){var e=t.match(i);return e&&e[1]===a}function O(t){var e=t.url;if(p(t.params)){e+=(e.indexOf("?")===-1?"?":"&")+y(t.params)}return e}function j(t){if(s&&E(t)){return new XDomainRequest}else{return new XMLHttpRequest}}function b(t){var e=(t.method||"GET").toUpperCase();var n=t.auth||{};var r=O(t);var o=j(r);o.open(e,r,t.async,n.user,n.password);o.withCredentials=t.withCredentials;o.responseType=t.responseType;o.timeout=t.timeout;d(o,t.headers);return o}function w(t,e){return function(t){if(evt.lengthComputable){e(t,evt.loaded/evt.total)}else{e(t)}}}function R(t,e,n){var r=b(t);var o=p(t.data)||Array.isArray(t.data)?JSON.stringify(t.data):t.data;var a=x(r,e);r.onload=C(r,e);r.onerror=a;r.ontimeout=a;r.onabort=a;if(typeof n==="function")r.onprogress=w(r,n);try{r.send(o)}catch(i){a(i)}return{xhr:r,config:t}}function A(t){return function(e,n,o,a){var i,u,s=null;var d=c({},l,{method:t});var v=r.call(arguments);for(i=0,u=v.length;i<u;i+=1){s=v[i];if(typeof s==="function"){o=s;if(o!==s)a=s}else if(p(s)){c(d,s)}else if(typeof s==="string"&&!d.url){d.url=s}}return R(d,o||f,a)}}function H(t,e,n,r){return A("GET").apply(null,arguments)}H.VERSION=e;H.defaults=l;H.defaultContent="text/plain";H.get=A("GET");H.post=A("POST");H.put=A("PUT");H.del=A("DELETE");H.patch=A("PATCH");H.head=A("HEAD");return t.http=H});
//# sourceMappingURL=http://cdn.rawgit.com/lil-js/http/0.1.9/http.min.js.map