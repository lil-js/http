/*! lil-http - v0.1.11 - MIT License - https://github.com/lil-js/http */
(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports==="object"){t(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{t(e.lil=e.lil||{})}})(this,function(e){"use strict";var t="0.1.11";var n=Object.prototype.toString;var r=Array.prototype.slice;var a=Object.prototype.hasOwnProperty;var o=location.origin;var i=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var u=/application\/json/;var s=typeof XDomainRequest!=="undefined";var f=function(){};var l={method:"GET",timeout:30*1e3,auth:null,data:null,headers:null,withCredentials:false,responseType:"text"};function p(e){return e&&n.call(e)==="[object Object]"||false}function c(e){var t,n,o,i,u=r.call(arguments).slice(1);for(t=0,n=u.length;t<n;t+=1){i=u[t];for(o in i)if(a.call(i,o))e[o]=i[o]}return e}function d(e,t){if(p(t)){t["Content-Type"]=t["Content-Type"]||q.defaultContent;for(var n in t)if(a.call(t,n)){e.setRequestHeader(n,t[n])}}}function v(e){var t={},n=e.getAllResponseHeaders().trim().split("\n");n.forEach(function(e){var n=e.trim().split(":");var r=n.shift().trim();var a=n.join(":").trim();t[r]=a});return t}function h(e){return u.test(e.getResponseHeader("Content-Type"))}function y(e){return Object.getOwnPropertyNames(e).filter(function(t){return e[t]!==undefined}).map(function(t){var n=e[t]===null?"":e[t];return encodeURIComponent(t)+(n?"="+encodeURIComponent(n):"")}).join("&").replace(/%20/g,"+")}function m(e){var t=null;if(e.responseType==="text"){t=e.responseText;if(h(e)&&t)t=JSON.parse(t)}else{t=e.response}return t}function g(e){var t={xhr:e,status:e.status,data:null,headers:{}};if(e.readyState===4){t.data=m(e);t.headers=v(e)}return t}function T(e,t){var n=new Error(t.message);c(n,g(e));n.error=t;n.stack=t.stack;return n}function C(e,t){var n=false;return function(r){if(!n){t(T(e,r),null);n=true}}}function x(e,t){return function(){if(e.readyState===4){if(e.status===1223)status=204;if(e.status>=200&&e.status<400){t(null,g(e))}else{t(g(e),null)}}}}function j(e){var t=e.match(i);return t&&t[1]===o}function E(e){var t=e.url;if(p(e.params)){t+=(t.indexOf("?")===-1?"?":"&")+y(e.params)}return t}function O(e){if(s&&j(e)){return new XDomainRequest}else{return new XMLHttpRequest}}function R(e){var t=(e.method||"GET").toUpperCase();var n=e.auth;var r=E(e);var a=O(r);if(n){a.open(t,r,true,n.user,n.password)}else{a.open(t,r)}a.withCredentials=e.withCredentials;a.responseType=e.responseType;a.timeout=e.timeout;d(a,e.headers);return a}function b(e,t){return function(e){if(evt.lengthComputable){t(e,evt.loaded/evt.total)}else{t(e)}}}function w(e){return e&&p(e.headers)&&e.headers["content-type"]||e.headers["Content-Type"]||false}function H(e,t){var n=t.data;if(p(t.data)||Array.isArray(t.data)){if(w(t)===false){e.setRequestHeader("Content-Type","application/json")}n=JSON.stringify(t.data)}return n}function S(e,t,n){var r=R(e);var a=H(r,e);var o=C(r,t);r.onload=x(r,t);r.onerror=o;r.ontimeout=o;r.onabort=o;if(typeof n==="function"){r.onprogress=b(r,n)}try{r.send(a)}catch(i){o(i)}return{xhr:r,config:e}}function A(e){return function(t,n,a,o){var i,u,s=null;var d=c({},l,{method:e});var v=r.call(arguments);for(i=0,u=v.length;i<u;i+=1){s=v[i];if(typeof s==="function"){a=s;if(a!==s)o=s}else if(p(s)){c(d,s)}else if(typeof s==="string"&&!d.url){d.url=s}}return S(d,a||f,o)}}function q(e,t,n,r){return A("GET").apply(null,arguments)}q.VERSION=t;q.defaults=l;q.defaultContent="text/plain";q.get=A("GET");q.post=A("POST");q.put=A("PUT");q.del=A("DELETE");q.patch=A("PATCH");q.head=A("HEAD");return e.http=q});
//# sourceMappingURL=http://cdn.rawgit.com/lil-js/http/0.1.11/http.min.js.map