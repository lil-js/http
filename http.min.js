/*! lil-http - v0.1 - MIT License - https://github.com/lil-js/http */
(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports==="object"){t(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{t(e.lil=e.lil||{})}})(this,function(e){"use strict";var t="0.1.5";var n=Object.prototype.toString;var r=Array.prototype.slice;var o=location.origin;var a=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var i=typeof XDomainRequest!=="undefined";var u={method:"GET",timeout:30*1e3,auth:null,headers:null,async:true,withCredentials:false,responseType:"text"};function s(e){return e&&n.call(e)==="[object Object]"}function f(e){return e&&n.call(e)==="[object Array]"}function l(e){var t,n,o,a,i=r.call(arguments).slice(1);for(t=0,n=i.length;t<n;t+=1){a=i[t];for(o in a)if(a.hasOwnProperty(o)){e[o]=a[o]}}return e}function p(e,t){if(s(t)){t["Content-Type"]=t["Content-Type"]||w.defaultContent;for(var n in t){e.setRequestHeader(n,t[n])}}}function c(e){var t={},n=e.getAllResponseHeaders().split("\n");n.forEach(function(e){if(e){e=e.split(":");t[e[0].trim()]=(e[1]||"").trim()}});return t}function d(e){var t,n=e.getResponseHeader("Content-Type");if(e.responseType==="text"){t=e.responseText;if(n==="application/json")t=JSON.parse(t)}else{t=e.response}return t}function v(e){return{xhr:e,status:e.status,data:d(e),headers:c(e)}}function h(e,t){var n=v(e);n.error=t;return n}function y(e,t){var n=false;return function(r){if(!n){t(h(e,r),null);n=true}}}function m(e,t){return function(){if(e.readyState===4){if(e.status>=200&&e.status<400){t(null,v(e))}else{t(v(e),null)}}}}function T(e){var t=e.match(a);return t&&t[1]===o}function g(e){var t=null;var n=(e.method||"GET").toUpperCase();var r=e.auth||{};var o=e.url;if(i&&T(o)){t=new XDomainRequest}else{t=new XMLHttpRequest}t.open(n,o,e.async,r.user,r.password);t.withCredentials=e.withCredentials;t.responseType=e.responseType;t.timeout=e.timeout;p(t,e.headers);return t}function x(e,t){return function(e){if(evt.lengthComputable){t(e,evt.loaded/evt.total)}else{t(e)}}}function C(e,t,n){var r=g(e);var o=s(e.data)||f(e.data)?JSON.stringify(e.data):e.data;var a=y(r,t);var i=(new Date).getTime();r.onload=m(r,t);r.onerror=a;r.ontimeout=a;r.onabort=a;if(typeof n==="function")r.onprogress=x(r,n);try{r.send(o)}catch(u){a(u)}return{xhr:r,config:e,start:i}}function E(e){return function(t,n,o,a){var i,f,p=null;var c=l({},u,{method:e});var d=r.call(arguments);for(i=0,f=d.length;i<f;i+=1){p=d[i];if(typeof p==="function"){o=p;if(o!==p)a=p}else if(s(p)){l(c,p)}else if(typeof p==="string"){c.url=p}}if(typeof o!=="function")throw new TypeError("callback function argument is required");return C(c,o,a)}}function w(e,t,n,r){return E("GET").apply(null,arguments)}w.VERSION=t;w.defaults=u;w.defaultContent="text/plain";w.get=E("GET");w.post=E("POST");w.put=E("PUT");w.del=E("DELETE");w.patch=E("PATCH");w.head=E("HEAD");return e.http=w});
//# sourceMappingURL=http.min.js.map