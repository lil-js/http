/*! lil-http - v0.1 - MIT License - https://github.com/lil-js/http */
(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports==="object"){t(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.http}}else{t(e.lil=e.lil||{})}})(this,function(e){var t="0.1.0";var n=Object.prototype.toString;var r=Array.prototype.slice;var a=location.origin;var o=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var i={method:"GET",timeout:30*1e3,auth:null,headers:null,async:true,withCredentials:false,responseType:"text"};function s(e){return e&&n.call(e)==="[object Object]"}function u(e){return e&&n.call(e)==="[object Array]"}function f(e){var t,n,a,o,i=r.call(arguments).slice(1);for(t=0,n=i.length;t<n;t+=1){o=i[t];for(a in o)if(o.hasOwnProperty(a)){e[a]=o[a]}}return e}function p(e,t){if(s(t)){t["Content-Type"]=t["Content-Type"]||b.defaultContent;for(var n in t){e.setRequestHeader(n,t[n])}}}function c(e){var t={},n=e.getAllResponseHeaders().split("\n");n.forEach(function(e){if(e){e=e.split(":");t[e[0]]=(e[1]||"").trim()}});return t}function d(e){var t,n=e.getResponseHeader("Content-Type");if(e.responseType==="text"){t=e.responseText;if(n==="application/json")t=JSON.parse(t)}else{t=e.response}return t}function v(e){return{xhr:e,status:e.status,data:d(e),headers:c(e)}}function y(e,t){var n=v(e);n.error=t;return n}function h(e,t){var n=false;return function(r){if(!n){t(y(e,r),null);n=true}}}function m(e,t){return function(){if(e.readyState===4){if(e.status>=200&&e.status<300){t(null,v(e))}else{t(v(e),null)}}}}function T(e){var t=e.match(o);return t&&t[1]===a}function E(e){var t=null;var n=(e.method||"GET").toUpperCase();var r=e.auth||{};var a=e.url;if(T(a)){if(typeof XDomainRequest!=="undefined"){t=new XDomainRequest}}else{t=new XMLHttpRequest}t.open(n,a,e.async,r.user,r.password);t.withCredentials=e.withCredentials;t.responseType=e.responseType;t.timeout=e.timeout;p(t,e.headers);return t}function g(e,t){return function(e){if(evt.lengthComputable){t(e,evt.loaded/evt.total)}else{t(e)}}}function x(e,t,n){var r=E(e);var a=s(e.data)||u(e.data)?JSON.stringify(e.data):e.data;var o=h(r,t);r.addEventListener("load",m(r,t),false);r.addEventListener("error",o,false);r.addEventListener("timeout",o,false);r.addEventListener("abort",o,false);if(typeof n==="function")r.addEventListener("progress",g(r,n),false);try{r.send(a)}catch(i){o(i)}return r}function C(e){return function(e,t,n,a){var o=f({},i);var u=r.call(arguments);var p,c=null;for(p=0,l=u.length;p<l;p+=1){c=u[p];if(typeof c==="function"){n=c;if(n!==c)a=c}else if(s(c)){f(o,c)}else if(typeof c==="string"){o.url=c}}return x(o,n,a)}}function b(e,t,n,r){return C("GET").apply(null,arguments)}b.VERSION=t;b.defaults=i;b.defaultContent="text/plain";b.get=C("GET");b.post=C("POST");b.put=C("PUT");b.del=C("DELETE");b.patch=C("PATCH");b.head=C("HEAD");return e.http=b});
//# sourceMappingURL=http.min.js.map